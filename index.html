<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ULTRA X | STREAMING</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.3.5/shaka-player.compiled.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body { background-color: #0a0a0a; color: #fff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .video-container { box-shadow: 0 20px 50px rgba(0, 119, 255, 0.15); border: 1px solid #1f2937; }
        .glass-panel { background: rgba(17, 24, 39, 0.7); backdrop-filter: blur(10px); }
        .status-pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
    </style>
</head>
<body class="flex flex-col items-center min-h-screen p-6">

    <header class="w-full max-w-6xl flex justify-between items-center mb-8 glass-panel p-4 rounded-2xl border border-gray-800">
        <div>
            <h1 class="text-4xl font-black tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-cyan-300">SANDX</h1>
            <p class="text-xs tracking-widest text-gray-400 mt-1">NEXUS ENTERTAINMENT ENGINE</p>
        </div>
        <div class="flex items-center gap-3">
            <span class="flex items-center text-sm font-semibold text-green-400">
                <span class="w-2 h-2 rounded-full bg-green-500 mr-2 status-pulse"></span> Sistema Global Online
            </span>
            <div class="h-8 w-8 rounded-full bg-blue-600 border-2 border-white flex items-center justify-center font-bold">IA</div>
        </div>
    </header>

    <div class="relative w-full max-w-6xl bg-black rounded-2xl overflow-hidden video-container">
        <video id="video" class="w-full aspect-video" controls autoplay></video>
        
        <div id="loading" class="absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-90 hidden">
            <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500 mb-4"></div>
            <p class="text-blue-400 font-mono text-sm tracking-widest">ESTABELECENDO CONEX√ÉO SEGURA...</p>
        </div>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-5 gap-3 mt-6 w-full max-w-6xl">
        <button onclick="loadStream('https://demo.unified-streaming.com/k8s/features/stable/video/tears-of-steel/tears-of-steel.ism/.m3u8')" class="glass-panel hover:bg-blue-900 p-4 rounded-xl border border-gray-700 transition font-semibold text-left flex flex-col justify-between h-24">
            <span class="text-xs text-gray-400">SANDX ORIGINALS</span>
            <span class="text-lg">üé¨ Cinema 4K</span>
        </button>
        <button onclick="loadStream('LINK_DA_SUA_AWS_AQUI')" class="glass-panel hover:bg-blue-900 p-4 rounded-xl border border-gray-700 transition font-semibold text-left flex flex-col justify-between h-24">
            <span class="text-xs text-gray-400">LIVE TV (AWS Proxy)</span>
            <span class="text-lg">üì° Global News</span>
        </button>
        <button onclick="loadStream('LINK_CCTV_AQUI')" class="glass-panel hover:bg-red-900 p-4 rounded-xl border border-gray-700 transition font-semibold text-left flex flex-col justify-between h-24">
            <span class="text-xs text-red-400">SEGURAN√áA HLS</span>
            <span class="text-lg">üìπ C√¢meras IP</span>
        </button>
        <button class="glass-panel opacity-50 cursor-not-allowed p-4 rounded-xl border border-gray-700 transition font-semibold text-left flex flex-col justify-between h-24">
            <span class="text-xs text-gray-400">DRM PROTECTED</span>
            <span class="text-lg">üîí Warner/Max</span>
        </button>
        <button class="glass-panel bg-gradient-to-br from-blue-900 to-black p-4 rounded-xl border border-blue-500 transition font-semibold text-left flex flex-col justify-between h-24">
            <span class="text-xs text-blue-300">MOTOR DE RECOMENDA√á√ÉO</span>
            <span class="text-lg">ü§ñ AI Discovery</span>
        </button>
    </div>

    <script>
        const videoElement = document.getElementById('video');
        const loader = document.getElementById('loading');
        let player;

        // Inicializa o Shaka Player (Padr√£o Google)
        function initApp() {
            shaka.polyfill.installAll();
            if (shaka.Player.isBrowserSupported()) {
                player = new shaka.Player(videoElement);
                
                // Configura√ß√µes avan√ßadas de CDN e Buffering (Prepara√ß√£o para 8K)
                player.configure({
                    streaming: { bufferingGoal: 60, rebufferingGoal: 15, bufferBehind: 30 },
                    // Aqui entrariam as chaves DRM se voc√™ tivesse os servidores de licen√ßa
                    // drm: { servers: { 'com.widevine.alpha': 'https://seu-servidor-licenca.com' } }
                });

                // Interceptador de Requisi√ß√µes (Para enviar Tokens de Seguran√ßa/Cookies)
                player.getNetworkingEngine().registerRequestFilter(function(type, request) {
                    // Adiciona cabe√ßalhos customizados para passar pelo seu Proxy da AWS
                    request.headers['X-Sandx-Auth'] = 'Token-De-Acesso-Seguro';
                });

                player.addEventListener('error', onErrorEvent);
            } else {
                alert('Seu navegador n√£o suporta streaming de alta performance.');
            }
        }

        async function loadStream(manifestUri) {
            if(!manifestUri || manifestUri === 'LINK_DA_SUA_AWS_AQUI' || manifestUri === 'LINK_CCTV_AQUI') {
                alert("Conecte o Backend da AWS neste bot√£o primeiro!");
                return;
            }
            
            loader.classList.remove('hidden');
            try {
                await player.load(manifestUri);
                loader.classList.add('hidden');
                console.log('Stream SANDX conectado com sucesso.');
            } catch (e) {
                onError(e);
            }
        }

        function onErrorEvent(event) { onError(event.detail); }
        function onError(error) {
            console.error('Erro de Rede/DRM:', error.code, error);
            loader.classList.add('hidden');
            alert('Falha na comunica√ß√£o com a CDN. C√≥digo: ' + error.code);
        }

        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
